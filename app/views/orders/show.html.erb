<div class="container">
  <%= turbo_stream_from @order %>
  
  <div class="alert alert-success">
    <h4>âœ… <%= t('order_placed_title') %></h4>
    <p><%= t('order_processing_message', id: @order.id) %></p>
  </div>

  <div class="row">
    <div class="col-md-8">
      <%= render "tracking_details", order: @order %>


      <div class="card">
        <div class="card-header">
          <h5><%= t('order_items') %></h5>
        </div>
        <div class="card-body">
          <table class="table">
            <thead>
              <tr>
                <th><%= t('product') %></th>
                <th><%= t('price') %></th>
                <th><%= t('quantity') %></th>
                <th><%= t('subtotal') %></th>
              </tr>
            </thead>
            <tbody>
              <% @order.order_items.each do |item| %>
                <tr>
                  <td><%= item.product.name %></td>
                  <td><%= format_price(item.price) %></td>
                  <td><%= item.quantity %></td>
                  <td><%= format_price(item.price * item.quantity) %></td>
                </tr>
              <% end %>
            </tbody>
            <tfoot>
              <tr>
                <td colspan="3" class="text-end"><strong><%= t('total') %></strong></td>
                <td><strong><%= format_price(@order.total_price) %></strong></td>
              </tr>
            </tfoot>
          </table>
        </div>
      </div>
    </div>

    <div class="col-md-4">
      <div class="card">
        <div class="card-header">
          <h5><%= t('whats_next') %></h5>
        </div>
        <div class="card-body">
          <p><%= t('email_confirmation_message') %></p>
          <p><%= t('updates_message') %></p>
          <div class="d-grid gap-2">
            <%= link_to t('view_all_orders'), orders_path, class: 'btn btn-primary' %>
            <%= link_to t('continue_shopping'), products_path, class: 'btn btn-secondary' %>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>